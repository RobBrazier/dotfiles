# IdentityFile ~/.ssh/id_ed25519.pub
# IdentitiesOnly yes

{{- range $host := .gitHosts }}
Host {{ .name }}
  User git
  {{ if not (eq (get . "port") "") -}}
  Port {{ .port }}
  {{ end -}}
  IdentityFile ~/.ssh/id_ed25519.pub
  IdentitiesOnly yes
{{ end }}

{{- if not (eq .git.alter.name "") }}
Host alter.github.com
  User git
  Hostname github.com
  IdentityFile ~/.ssh/alter_ed25519.pub
  IdentitiesOnly yes
{{ end }}

{{- $suffix := .ssh.aliasSuffix }}
{{- range .ssh.aliases }}
{{ if not (eq (get . "name") "") -}}}
Host {{ .name }}
{{ else -}}
Host {{ .host }}
{{- end }}
  User {{ .user }}
  {{ if eq (get . "internal") "false" -}}
  Hostname {{ .host }}
  {{ else -}}
  Hostname {{ .host }}.{{ $suffix }}
  {{ end -}}
  {{ if not (eq (get . "port") "") -}}
  Port {{ .port }}
  {{ end -}}
  IdentityFile ~/.ssh/id_ed25519.pub
  IdentitiesOnly yes
{{ end }}
