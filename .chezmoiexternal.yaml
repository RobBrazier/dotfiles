{{ $root := .}}
{{ range $font := .nerdfonts.fonts }}
.local/share/fonts/NerdFonts/{{ $font }}:
  type: archive
  url: https://github.com/ryanoasis/nerd-fonts/releases/download/{{(gitHubLatestRelease "ryanoasis/nerd-fonts").TagName}}/{{ $font }}.zip
  exclude:
    - "*Windows Compatible*.ttf"
    - "*Windows Compatible*.otf"
    - "LICENSE"
    - "*.txt"
    - "*.md"
    - .uuid
{{ end }}

.config/tmux/plugins/tpm:
  type: "git-repo"
  url: "https://github.com/tmux-plugins/tpm.git"

.config/btop/themes:
  type: "archive"
  url: "https://api.github.com/repos/catppuccin/btop/tarball"
  stripComponents: 2
  include:
    - "*/themes/**"

{{ $kittyLatestVersion := (gitHubLatestRelease "kovidgoyal/kitty").TagName | trimPrefix "v"}}
{{ if (eq .chezmoi.os "linux" )}}
.local/kitty.app:
  type: "archive"
  url: https://github.com/kovidgoyal/kitty/releases/download/v{{$kittyLatestVersion}}/kitty-{{$kittyLatestVersion}}-x86_64.txz
{{ end }}

{{ $binLatestVersion := (gitHubLatestRelease "marcosnils/bin").TagName | trimPrefix "v"}}
.local/bin/bin:
  type: file
  url: https://github.com/marcosnils/bin/releases/download/v{{$binLatestVersion}}/bin_{{$binLatestVersion}}_{{.chezmoi.os | title}}_x86_64
  executable: true
